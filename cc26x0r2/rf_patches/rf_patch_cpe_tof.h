/******************************************************************************
*  Filename:       rf_patch_cpe_tof.h
*  Revised:        $Date: 2018-11-02 16:23:01 +0100 (fr, 02 nov 2018) $
*  Revision:       $Revision: 18757 $
*
*  Description: RF core patch for supporting time-of-flight radio measurements in CC2640R2F
*
*  Copyright (c) 2015-2018, Texas Instruments Incorporated
*  All rights reserved.
*
*  Redistribution and use in source and binary forms, with or without
*  modification, are permitted provided that the following conditions are met:
*
*  1) Redistributions of source code must retain the above copyright notice,
*     this list of conditions and the following disclaimer.
*
*  2) Redistributions in binary form must reproduce the above copyright notice,
*     this list of conditions and the following disclaimer in the documentation
*     and/or other materials provided with the distribution.
*
*  3) Neither the name of the ORGANIZATION nor the names of its contributors may
*     be used to endorse or promote products derived from this software without
*     specific prior written permission.
*
*  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
*  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
*  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
*  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
*  LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
*  CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
*  SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
*  INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
*  CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
*  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
*  POSSIBILITY OF SUCH DAMAGE.
*
******************************************************************************/
#ifndef _RF_PATCH_CPE_TOF_H
#define _RF_PATCH_CPE_TOF_H

//*****************************************************************************
//
// If building with a C++ compiler, make all of the definitions in this header
// have a C binding.
//
//*****************************************************************************
#ifdef __cplusplus
extern "C"
{
#endif

#include <stdint.h>
#include <string.h>

#ifndef CPE_PATCH_TYPE
#define CPE_PATCH_TYPE static const uint32_t
#endif

#ifndef SYS_PATCH_TYPE
#define SYS_PATCH_TYPE static const uint32_t
#endif

#ifndef PATCH_FUN_SPEC
#define PATCH_FUN_SPEC static inline
#endif

#ifndef _APPLY_PATCH_TAB
#define _APPLY_PATCH_TAB
#endif


CPE_PATCH_TYPE patchImageTof[] = {
   0x6ac148fd,
   0xd0fc07c9,
   0x62c32300,
   0x6a0a49fb,
   0xd0fc07d2,
   0x2101620b,
   0x60036081,
   0x48f76083,
   0x60813840,
   0x60836003,
   0xb5104770,
   0x68db4bf4,
   0x2b0068db,
   0x0852d00b,
   0x4af0189c,
   0x6b93e005,
   0xd5fc079b,
   0x54236a93,
   0x42881c40,
   0xbd10dbf7,
   0x49ebb5f7,
   0x68c92400,
   0x468e4627,
   0x46226809,
   0x49e8468c,
   0x46254623,
   0xe012684e,
   0x6aca49e2,
   0x684949e4,
   0x42811b89,
   0x2701d900,
   0x6b0949e2,
   0xd0064299,
   0x684648df,
   0x46604be0,
   0xb29d681b,
   0x433a460b,
   0x4ad9d0ea,
   0x6a116a10,
   0x0fc006c0,
   0x0fc90689,
   0xd1012901,
   0xd0132801,
   0x210f48d4,
   0x02096900,
   0x1d404008,
   0x48cf60d0,
   0x62c12100,
   0x62012101,
   0x68784fcf,
   0x61b04ecd,
   0x29029902,
   0xe013d00e,
   0x28029802,
   0x48cad103,
   0x46706841,
   0x20006141,
   0x99019a02,
   0xff9ff7ff,
   0xe7e92401,
   0x2c0168f1,
   0xd01c8d89,
   0x61701a40,
   0x680048c3,
   0xb2810a2a,
   0x18800a08,
   0xb2eab2c9,
   0x08401889,
   0x1811084a,
   0x330123ff,
   0x1a591a10,
   0xf0000200,
   0x61f0fc55,
   0x887368f0,
   0x69b18d82,
   0x697018d5,
   0x1a40e004,
   0xe7e030f0,
   0x61b16879,
   0x42a91a09,
   0x9d02d3fa,
   0x2d022100,
   0x2c01d005,
   0x69b1d103,
   0x1a801a08,
   0x69b01ac1,
   0x61701a40,
   0xd0022c01,
   0x43c02000,
   0x2000bdfe,
   0x4aa9bdfe,
   0x230149a9,
   0xd0042800,
   0x61d048a8,
   0x43986948,
   0x48a6e004,
   0x61d03812,
   0x43186948,
   0x49a16148,
   0x6bc83940,
   0x40104aa2,
   0x43022203,
   0x431863ca,
   0x477063c8,
   0x9c02b510,
   0x02240112,
   0x3c013cff,
   0x43143a10,
   0x430c1e49,
   0x610c4991,
   0x4b90618b,
   0x3b402202,
   0x2200605a,
   0x614a620a,
   0x02004a8d,
   0x799268d2,
   0xd0022a02,
   0x60c81cc0,
   0x1d00bd10,
   0xb5f8e7fb,
   0x2400460f,
   0x00a5488e,
   0x19e8182e,
   0xf0001c40,
   0x5d79fbdd,
   0x43080200,
   0x1c646030,
   0xdbf12c02,
   0xb510bdf8,
   0x68c9497e,
   0x29006889,
   0x0840d004,
   0x20011809,
   0xffe3f7ff,
   0x20034978,
   0x60083940,
   0x48756048,
   0x60012101,
   0xbd106041,
   0x4605b538,
   0xffe7f7ff,
   0x21004870,
   0x210862c1,
   0x4c706201,
   0x93007823,
   0x4b776920,
   0x0f000500,
   0xf7ff7862,
   0x2000ffa7,
   0xff89f7ff,
   0x2d0268e1,
   0xd1006808,
   0x462a8dc8,
   0xf7ff2101,
   0xbd38fef3,
   0x4965b5f7,
   0x20004615,
   0x4606684a,
   0x46944607,
   0x495ee015,
   0x49606ace,
   0x46626849,
   0x99001a8a,
   0xd900428a,
   0x495d2701,
   0x42846b0c,
   0x2c00d007,
   0x2001d001,
   0x2000e000,
   0xff61f7ff,
   0x433e4620,
   0x4a53d0e7,
   0x4e536a10,
   0x0fc006c0,
   0xd1032d00,
   0x68494951,
   0x615968f3,
   0xd0012f00,
   0xd01d2800,
   0x462a2401,
   0x99012000,
   0xfea9f7ff,
   0x6800484c,
   0xb2810223,
   0xb2ca0a08,
   0x1a101811,
   0x02001a59,
   0xfb6ef000,
   0x4b4461f0,
   0x61b16859,
   0x798268f0,
   0x432f4617,
   0x2a01d00f,
   0xe017d016,
   0x6930210f,
   0x40080209,
   0x60d01d40,
   0x21004838,
   0x210162c1,
   0x24006201,
   0x8d82e7e7,
   0xd0022c00,
   0x31f01a89,
   0x1a89e000,
   0xe0016171,
   0xd00b2d00,
   0x88778d83,
   0x697069b2,
   0x1a1219d9,
   0xd208428a,
   0x68524a2e,
   0xe7f861b2,
   0x1a898d82,
   0x310531ff,
   0x2100e7ea,
   0xd0052d00,
   0xd0032c00,
   0x1a0869b1,
   0x1bc11ac0,
   0x1a4069b0,
   0x2c006170,
   0x2000d001,
   0x2000bdfe,
   0xbdfe43c0,
   0x4605b538,
   0xff3df7ff,
   0x2100481b,
   0x210862c1,
   0x4c1b6201,
   0x93007823,
   0x4b226920,
   0x0f000500,
   0xf7ff7862,
   0x2000fefd,
   0xfedff7ff,
   0x2d0068e1,
   0xd1006808,
   0x462a8dc8,
   0xf7ff2101,
   0xbd38ff57,
   0x4c0eb530,
   0x62252500,
   0x3a100112,
   0x430a1e49,
   0x61a36122,
   0x1c800200,
   0x480a60e0,
   0x60012101,
   0x61456942,
   0x32404a07,
   0x68406011,
   0x30284905,
   0x60083180,
   0x0000bd30,
   0x40046000,
   0x40045040,
   0x21000e4c,
   0x40043000,
   0x40045280,
   0x40045180,
   0x40044040,
   0x40041100,
   0x0001f879,
   0xfff000ff,
   0x210087a0,
   0x0000aaaa,
   0x4605b538,
   0xfee9f7ff,
   0x210048fd,
   0x210662c1,
   0x4cfc6201,
   0x78232108,
   0x69209300,
   0x05004bfa,
   0x78620f00,
   0xffb8f7ff,
   0x48f849f9,
   0x200161c8,
   0xfe87f7ff,
   0x462a68e0,
   0x21016800,
   0xff02f7ff,
   0xb530bd38,
   0x4bf34df3,
   0x35804cf3,
   0xd00e2a40,
   0x58420089,
   0x60da0c12,
   0xb2925842,
   0x1808611a,
   0x0c096841,
   0x68406361,
   0x6068b280,
   0x00c9e7ae,
   0x0c125842,
   0x5842615a,
   0x619ab292,
   0x68411808,
   0x60d90c09,
   0xb2896841,
   0x68816119,
   0x49e10c0a,
   0x608a31c0,
   0xb2926882,
   0x68c160ca,
   0x63610c09,
   0xe7e168c0,
   0xb089b5f0,
   0x2500b662,
   0x49db4cd5,
   0x68496165,
   0x05122201,
   0x42914011,
   0x60e0d07e,
   0x90012000,
   0x49d6204f,
   0x478800c0,
   0x68e061a5,
   0x290079c1,
   0x21ffd001,
   0x30203101,
   0x4ace6121,
   0x62d17901,
   0x21207902,
   0xd1002a00,
   0x70212140,
   0x21027980,
   0xd1002800,
   0x48ca2101,
   0x47807061,
   0x49bf68e0,
   0x79403020,
   0x61883180,
   0x478048c6,
   0x80654bbf,
   0x6bda3b40,
   0x43022080,
   0x692148c3,
   0x48bb4002,
   0xd01c2900,
   0x600168a1,
   0x60412100,
   0x60c16081,
   0x61416101,
   0x43102003,
   0x200163d8,
   0x63da4302,
   0x6b4068e0,
   0x90008800,
   0x68c148ad,
   0x24003120,
   0x46267c49,
   0x46259406,
   0x91029403,
   0x6861e1e9,
   0x2000e7e1,
   0x48b161f8,
   0x48b14780,
   0x7ac27ac1,
   0x0fc907c9,
   0x40022002,
   0xd0024311,
   0xb00948ad,
   0x489fbdf0,
   0x80412100,
   0x970468c7,
   0x7cf93720,
   0x90070860,
   0xfa0af000,
   0xd1162900,
   0x42a09806,
   0x9802d013,
   0xd04d2800,
   0x07c09902,
   0x0fc00849,
   0x28009102,
   0xe000d004,
   0x7cb8e070,
   0x90024048,
   0x98027c39,
   0xf9f2f000,
   0x9804460d,
   0x6b409406,
   0x910400e9,
   0x99005a42,
   0x428a4f89,
   0x9904d022,
   0x5a431d89,
   0x93009904,
   0x5c431d09,
   0x1c899904,
   0x99045c42,
   0x5c411cc9,
   0xf000200e,
   0x68f8f9dd,
   0x6b412201,
   0x23009804,
   0x46115a08,
   0xf0000400,
   0x4884f9d9,
   0x48884780,
   0x29037801,
   0x68f8d1fc,
   0x80788f00,
   0x68c74876,
   0x6b799804,
   0x90005a08,
   0x28006a38,
   0x0041d00d,
   0xf0004620,
   0x2900f9b7,
   0xe01bd00c,
   0x7c381c6d,
   0x42a8b2ed,
   0x2500d8bd,
   0x496be7bb,
   0x780a69b8,
   0xe0334621,
   0xd00b2c00,
   0x30204638,
   0x07ca7fc1,
   0x2201d018,
   0x43917782,
   0x497277c1,
   0x608802d0,
   0x900569b8,
   0x90046a38,
   0x46200041,
   0xf992f000,
   0x42819804,
   0x2c00d113,
   0x4638d00f,
   0x7fc13020,
   0xd401078a,
   0xe76e4868,
   0x77822202,
   0x401122fd,
   0x200177c1,
   0x02c04963,
   0x69f86088,
   0x46209005,
   0xf0006a39,
   0x4850f977,
   0x98057802,
   0xfebbf7ff,
   0xd1042c00,
   0x68c0484c,
   0x28027980,
   0x4859d011,
   0x08496941,
   0x61410049,
   0x90019807,
   0x68c04846,
   0x28017980,
   0x4f44d007,
   0xd04c2800,
   0xd07e2802,
   0x2402e06c,
   0x4620e119,
   0xfe7cf7ff,
   0x4684b280,
   0x3040483c,
   0x4a3c6983,
   0x690768d0,
   0x00c19801,
   0x543b1d48,
   0x690368d0,
   0x541d1d08,
   0x28004660,
   0x68d2d00e,
   0x43c02000,
   0x2c006912,
   0xd15f5050,
   0x1ca4e002,
   0xe047b2a4,
   0x1c409803,
   0xe0439003,
   0x202768d7,
   0x28015dc0,
   0x482fd114,
   0x6bc33040,
   0x0f1b071b,
   0x6bc061d3,
   0x0e800580,
   0xdd012b07,
   0x61d33b10,
   0xdd01281f,
   0xb2003840,
   0x18c00100,
   0x61d00100,
   0x30404824,
   0x69d26b80,
   0x18800200,
   0x5050693a,
   0x4620e7d5,
   0xfde0f7ff,
   0x4819b281,
   0x69833040,
   0x68c04818,
   0x98016907,
   0x1d4200c0,
   0x4a1554bb,
   0x68d21d03,
   0x69122900,
   0xd05054d5,
   0x21004a11,
   0x43c968d2,
   0x2c006912,
   0xd0bb5011,
   0xb2b61c76,
   0xd8b42c01,
   0xfc00f7ff,
   0x69414819,
   0x00490849,
   0x48086141,
   0x8d3868c7,
   0xd30342b0,
   0x99038d7a,
   0xd27e428a,
   0x3170490d,
   0xe036e026,
   0x0000e052,
   0x40046000,
   0x21000e4c,
   0x0000aaaa,
   0x0001f879,
   0x40044040,
   0x40045100,
   0x40045280,
   0x40091040,
   0x00003fd1,
   0x00007b73,
   0x000046ab,
   0x0000ff8f,
   0x00000c2d,
   0x2100010c,
   0x04040003,
   0x2100028c,
   0x40041100,
   0x04060003,
   0xd1024288,
   0x42888d78,
   0x2101d063,
   0x04494845,
   0x48456081,
   0x4a45e691,
   0x68d22100,
   0x50116912,
   0x4620e769,
   0xfccaf7ff,
   0x468cb281,
   0x463868f9,
   0x9901690a,
   0x1d3900cf,
   0x493d5455,
   0x68c1698a,
   0x1d79690b,
   0x4661545a,
   0xd00a2900,
   0x210068c0,
   0x690043c9,
   0x51c12c02,
   0xe74fd800,
   0xb2b61c76,
   0x4832e749,
   0x468468c0,
   0x79c03020,
   0xd1262801,
   0x6bc14830,
   0x492f070a,
   0x39c00f12,
   0x6bc068cb,
   0x0f1b071b,
   0x68c90580,
   0x05890e80,
   0x2a070e89,
   0x3a10dd00,
   0xdd002b07,
   0x281f3b10,
   0x3840dd01,
   0x291fb200,
   0x3940dd03,
   0xe012e000,
   0x0100b209,
   0x18c01880,
   0x18400109,
   0x481c0101,
   0x481d61c1,
   0x02016b80,
   0x69c04819,
   0x46601809,
   0x51c16900,
   0x8fb9e711,
   0xf0009801,
   0x2900f847,
   0x9801d107,
   0xd0042800,
   0x21018778,
   0x03c9480e,
   0x4f0f6081,
   0x888068f8,
   0xd90042a0,
   0x4638e611,
   0x490e68c0,
   0x428a8d02,
   0x8d40d103,
   0xd1004288,
   0x2101e5fa,
   0x04094804,
   0x49056081,
   0x68c99801,
   0x20008748,
   0x0000e60b,
   0x40041100,
   0x04030003,
   0x21000e4c,
   0x40046040,
   0x40045140,
   0x0000ffff,
   0x07810882,
   0x0ec90092,
   0x78c0ca0c,
   0x424940ca,
   0x408b3120,
   0x0211431a,
   0x06000a09,
   0x47704308,
   0x4801b403,
   0xbd019001,
   0x00007d3b,
   0x4801b403,
   0xbd019001,
   0x00007d1f,
   0x4801b403,
   0xbd019001,
   0x00007467,
   0x4801b403,
   0xbd019001,
   0x000044a3,
   0x0001f879,
   0x0001f867,
   0x00000000,
   0x00009334,
   0x000131af,
   0x00000000,
   0x00000000,
   0x00000000,
   0x00000000,
   0x00000000,
};
#define _NWORD_PATCHIMAGE_TOF 649

#define _NWORD_PATCHSYS_TOF 0



#ifndef _TOF_SYSRAM_START
#define _TOF_SYSRAM_START 0x20000000
#endif

#ifndef _TOF_CPERAM_START
#define _TOF_CPERAM_START 0x21000000
#endif

#define _TOF_SYS_PATCH_FIXED_ADDR 0x20000000

#define _TOF_PARSER_PATCH_TAB_OFFSET 0x0350
#define _TOF_PATCH_TAB_OFFSET 0x0358
#define _TOF_IRQPATCH_OFFSET 0x03E8
#define _TOF_PATCH_VEC_OFFSET 0x0448

PATCH_FUN_SPEC void enterTofCpePatch(void)
{
#if (_NWORD_PATCHIMAGE_TOF > 0)
   uint32_t *pPatchVec = (uint32_t *) (_TOF_CPERAM_START + _TOF_PATCH_VEC_OFFSET);

   memcpy(pPatchVec, patchImageTof, sizeof(patchImageTof));
#endif
}

PATCH_FUN_SPEC void enterTofSysPatch(void)
{
}

PATCH_FUN_SPEC void configureTofPatch(void)
{

}

PATCH_FUN_SPEC void applyTofPatch(void)
{
   enterTofSysPatch();
   enterTofCpePatch();
   configureTofPatch();
}

PATCH_FUN_SPEC void refreshTofPatch(void)
{
   enterTofCpePatch();
   configureTofPatch();
}

PATCH_FUN_SPEC void rf_patch_cpe_tof(void)
{
   applyTofPatch();
}


//*****************************************************************************
//
// Mark the end of the C bindings section for C++ compilers.
//
//*****************************************************************************
#ifdef __cplusplus
}
#endif

#endif //  _RF_PATCH_CPE_TOF_H

